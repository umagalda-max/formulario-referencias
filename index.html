<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Formulario de Referencias Laborales</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f5f7fa;
      --card: #ffffff;
      --accent: #1f4e79;
      --accent-hover: #16385b;
      --muted: #6b7280;
      --border: #d1d5db;
    }

    * {box-sizing: border-box; margin:0; padding:0;}
    body {
      font-family: 'Inter', Arial, sans-serif;
      background: var(--bg);
      color: #111;
      padding: 40px 20px;
    }

    .container {max-width: 800px; margin: auto;}
    .card {
      background: var(--card);
      border-radius: 16px;
      padding: 32px 40px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.08);
      border-top: 6px solid var(--accent);
    }

    h1 {font-size: 26px; font-weight: 600; margin-bottom: 8px; color: var(--accent);}
    p.lead {font-size: 15px; color: var(--muted); margin-bottom: 24px;}

    label {display: block; font-weight: 500; margin: 16px 0 6px;}
    input, textarea {width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 10px; font-size: 14px;}
    textarea {min-height: 100px; resize: vertical;}

    .buttons {margin-top: 24px; display: flex; gap: 12px; align-items: center;}
    button {
      background: var(--accent);
      color: #fff;
      border: 0;
      padding: 12px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 500;
      transition: background 0.2s;
    }
    button:hover {background: var(--accent-hover);}
    button.secondary {background: #e5e7eb; color: #111;}

    .note {font-size: 13px; color: var(--muted); margin-top: 12px;}
    .success {background:#ecfdf5;border:1px solid #bbf7d0;color:#065f46;padding:10px;border-radius:8px;margin-top:12px;}
    .error {background:#fff1f2;border:1px solid #fecdd3;color:#831843;padding:10px;border-radius:8px;margin-top:12px;}
  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <h1>Referencia Laboral</h1>
      <p class="lead">Completa la información sobre el/la postulante.</p>

      <!-- FORMULARIO CLÁSICO QUE EVITA CORS -->
      <form id="refForm" method="POST" action="https://script.google.com/macros/s/AKfycbwimR1NVcTbghRyI_6-CwJv_PMF7llNIvqga45-H5XZPREFg7uzVwEcnIipS1vysf1w/exec" target="hidden_iframe">
        <label>1. Nombre y apellido *</label>
        <input name="nombre" type="text" required>

        <label>2. Cargo en periodo de Supervisión</label>
        <input name="cargo" type="text">

        <label>3. Empresa en periodo de Supervisión</label>
        <input name="empresa" type="text">

        <label>4. Periodo de Supervisión</label>
        <input name="periodo" type="text" placeholder="Ej: Enero 2020 - Marzo 2022">

        <label>5. Cargo y funciones de la persona</label>
        <textarea name="funciones"></textarea>

        <label>6. Tiempo trabajado en la empresa</label>
        <input name="tiempo" type="text" placeholder="Ej: 2 años">

        <label>7. Desempeño (responsabilidad, asistencia, compromiso)</label>
        <textarea name="desempeno"></textarea>

        <label>8. Fortalezas y espacios de mejora</label>
        <textarea name="fortalezas"></textarea>

        <label>9. Conducta (preventiva y salud ocupacional)</label>
        <textarea name="conducta"></textarea>

        <label>10. Motivo de salida / volvería a trabajar con él/ella</label>
        <textarea name="salida"></textarea>

        <label>11. Relación con pares y jefaturas</label>
        <textarea name="relacion"></textarea>

        <label>12. Nota del 1 al 7 y comentario</label>
        <textarea name="nota"></textarea>

        <div class="buttons">
          <button type="submit">Enviar</button>
          <button type="button" class="secondary" onclick="refForm.reset();">Limpiar</button>
        </div>
      </form>

      <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>
      <p class="note">La información será usada solo con fines de verificación laboral.</p>
    </div>
  </div>

  <script>
    // Mensaje temporal de éxito
    const form = document.getElementById('refForm');
    const iframe = document.getElementById('hidden_iframe');
    iframe.onload = function() {
      if(form.dataset.submitted == "true"){
        alert("¡Gracias! Tu referencia fue enviada correctamente.");
        form.reset();
        form.dataset.submitted = "false";
      }
    }
    form.addEventListener('submit', function(){ form.dataset.submitted = "true"; });
  </script>
</body>
</html>
